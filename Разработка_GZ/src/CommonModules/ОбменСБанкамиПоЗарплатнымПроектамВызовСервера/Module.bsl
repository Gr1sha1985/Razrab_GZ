////////////////////////////////////////////////////////////////////////////////
// Подсистема "Обмен с банками по зарплатным проектам".
//
////////////////////////////////////////////////////////////////////////////////

#Область СлужебныеПроцедурыИФункции

Функция ВыгрузитьФайлыДляОбменаСБанком(Знач СтруктураПараметров, АдресХранилища) Экспорт
	
	МассивДокументов = Новый Массив;
	Для Каждого ДокументМассива Из СтруктураПараметров.МассивДокументов Цикл
		Если ОбменСБанкамиПоЗарплатнымПроектам.ЭтоВедомостьВБанк(ДокументМассива)
			И Не ОбменСБанкамиПоЗарплатнымПроектам.РазрешенаОтправкаОтдельнойВедомости() Тогда
			Продолжить;
		КонецЕсли;
		МассивДокументов.Добавить(ДокументМассива);
	КонецЦикла;
	СтруктураПараметров.МассивДокументов = МассивДокументов;
	
	ОбменСБанкамиПоЗарплатнымПроектам.ВыгрузитьФайлыДляОбменаСБанком(СтруктураПараметров, АдресХранилища);
	Возврат ОбменСБанкамиПоЗарплатнымПроектам.МассивОписанийПередаваемыхФайлов(АдресХранилища, СтруктураПараметров.УникальныйИдентификаторФормы);
	
КонецФункции

#КонецОбласти
