#Область ПрограммныйИнтерфейс

Процедура ИсточникДоходовПриСозданииНаСервере(Форма, ОтображатьРеквизитыФизЛица = Истина) Экспорт
	
	Форма.ЦветВыделенияНекорректногоЗначение = ЦветаСтиля.ЦветВыделенияКонтрагентаСОшибкой;
	
	Если ЗначениеЗаполнено(Форма.ИНН) ИЛИ ЗНачениеЗаполнено(Форма.КПП) Тогда
		ПомощникЗаполнения3НДФЛКлиентСервер.ПроверитьИННКПП(Форма, Истина, Истина);
	КонецЕсли;
	
	ПомощникЗаполнения3НДФЛКлиентСервер.УстановитьВидимостьПолейКонтрагента(Форма, ОтображатьРеквизитыФизЛица);
	
КонецПроцедуры

Процедура ПроверитьЗаполнениеРеквизитовИсточникаДоходов(Форма, МассивНепроверяемыхРеквизитов, Отказ) Экспорт
	
	Если Форма.ВидКонтрагента = Перечисления.ЮридическоеФизическоеЛицо.ЮридическоеЛицо Тогда
		
		МассивНепроверяемыхРеквизитов.Добавить("ФИО");
		
		Если ЗначениеЗаполнено(Форма.КПП)
			И НЕ Форма.ОшибокПоКППнет Тогда
			
			ОбщегоНазначенияКлиентСервер.СообщитьПользователю(Форма.РезультатПроверкиКПП,, "КПП",, Отказ);
			
		КонецЕсли;
		
	ИначеЕсли Форма.ВидКонтрагента = Перечисления.ЮридическоеФизическоеЛицо.ФизическоеЛицо Тогда
		МассивНепроверяемыхРеквизитов.Добавить("Наименование");
		МассивНепроверяемыхРеквизитов.Добавить("КПП");
	Иначе
		МассивНепроверяемыхРеквизитов.Добавить("ФИО");
		МассивНепроверяемыхРеквизитов.Добавить("Наименование");
		МассивНепроверяемыхРеквизитов.Добавить("КПП");
	КонецЕсли;
	
	Если МассивНепроверяемыхРеквизитов.Найти("ИНН") = Неопределено 
		И ЗначениеЗаполнено(Форма.ИНН)
		И НЕ Форма.ОшибокПоИННнет Тогда
		
		ОбщегоНазначенияКлиентСервер.СообщитьПользователю(Форма.РезультатПроверкиИНН,, "ИНН",, Отказ);
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти
