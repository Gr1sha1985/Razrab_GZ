#Область ПрограммныйИнтерфейс

// Позволяет переопределить выполненные настройки зарплатных и кадровых отчетов.
// Описание см. ВариантыОтчетовПереопределяемый.НастроитьВариантыОтчетов.
//
Процедура НастроитьВариантыОтчетов(Настройки) Экспорт
	
КонецПроцедуры

Процедура ДанныеДокумента(Документ, ДанныеДокумента) Экспорт
	
	МассивОбъектов = Новый Массив;
	МассивОбъектов.Добавить(Документ);
	
	ПорядокЗаполнения = Новый Структура();
	Если ДанныеДокумента.Свойство("Руководитель")
		ИЛИ ДанныеДокумента.Свойство("ДолжностьРуководителя") Тогда
		ПорядокЗаполнения.Вставить("ЗаполнятьРуководителя");
	КонецЕсли;
	Если ДанныеДокумента.Свойство("ГлавныйБухгалтер") Тогда
		ПорядокЗаполнения.Вставить("ЗаполнятьГлавногоБухгалтера");
	КонецЕсли;
	Если ДанныеДокумента.Свойство("Кассир")
		ИЛИ ДанныеДокумента.Свойство("ДолжностьКассира") Тогда
		ПорядокЗаполнения.Вставить("ЗаполнятьКассира");
	КонецЕсли;
	Если ДанныеДокумента.Свойство("Бухгалтер") Тогда
		ПорядокЗаполнения.Вставить("ЗаполнятьБухгалтера");
	КонецЕсли;
	
	Запрос = Новый Запрос;
	Запрос.МенеджерВременныхТаблиц = Новый МенеджерВременныхТаблиц;
	
	КадровыйУчетПереопределяемый.СоздатьВТОтветственныхЛиц(Запрос.МенеджерВременныхТаблиц,
															МассивОбъектов,
															ПорядокЗаполнения);

	Запрос.Текст = 
	"ВЫБРАТЬ
	|	ТаблицаОтветственных.Документ,
	|	ТаблицаОтветственных.Руководитель,
	|	ТаблицаОтветственных.ДолжностьРуководителя,
	|	ТаблицаОтветственных.ГлавныйБухгалтер,
	|	ТаблицаОтветственных.Кассир,
	|	ТаблицаОтветственных.ДолжностьКассира,
	|	ТаблицаОтветственных.Бухгалтер,
	|	ТаблицаОтветственных.Исполнитель,
	|	ТаблицаОтветственных.ДолжностьИсполнителя
	|ИЗ
	|	ВТОтветственныеЛица КАК ТаблицаОтветственных";
	
	Результат = Запрос.Выполнить().Выбрать();
	Пока Результат.Следующий() Цикл
		ЗаполнитьЗначенияСвойств(ДанныеДокумента, Результат);
		Возврат;
	КонецЦикла;
	
КонецПроцедуры

#КонецОбласти
