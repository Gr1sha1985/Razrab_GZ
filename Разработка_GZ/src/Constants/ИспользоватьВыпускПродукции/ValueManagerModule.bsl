#Если Сервер Или ТолстыйКлиентОбычноеПриложение Или ВнешнееСоединение Тогда

#Область ОбработчикиСобытий

Процедура ПриЗаписи(Отказ)
	
	Если ОбменДанными.Загрузка Тогда
		Возврат;
	КонецЕсли;
	
	Если Значение Тогда
		
		Справочники.ВидыНоменклатуры.СоздатьЭлементыПроизводство();
		Справочники.ВидыНоменклатуры.СоздатьЭлементыМатериал();
		
		// В режиме учета расхода материалов для выпущенной продукции проводки по расходу материалов
		// создаются автоматически регламентными операциями.
		// Субконто НоменклатурнаяГруппа по счету 20.01 при выпуске заполняется из карточки продукции.
		// Если в карточке не заполнено это поле, то при отключенном режиме использования нескольких номенклатурных групп
		// значение берется напрямую из справочника НоменклатурныеГруппы.
		// Если в базе нет номенклатурных групп, то для корректной работы сразу создадим ее. 
		Справочники.НоменклатурныеГруппы.НайтиСоздатьОсновнуюНоменклатурнуюГруппу();
		
		КлассификаторыДоходовРасходов.ОбеспечитьФункциональность(
			Справочники.СтатьиЗатрат,
			"ИспользоватьВыпускПродукции");
		
	КонецЕсли;
	
КонецПроцедуры

#КонецОбласти

#КонецЕсли